---
layout: post
current: post
cover:  assets/images/welcome.jpg
navigation: True
title: 初見 Ruby
date: 2020-07-17 13:28:00
tags: [Coding]
class: post-template
subclass: 'post'
author: No3371
lang: zh_TW
---

在建立這個 Blog 的過程中，我第一次使用 Jekyll, Travis，以及第一次摸到 Ruby 這個語言。 

個人習慣在任何程式相關的情境使用英文，例如寫文章、寫註解，這就導致了當我要分享我的文章面向台灣 TA 公開時，總覺得要寫個中文版才行。因此，在摸索了一下 Jekyll，找到喜歡的主題後，我就開始琢磨怎麼讓這個 Blog 能夠提供多個語言的內容。

Jekyll 是一個有插件機制的靜態網站產生器。我試了 [jekyll-multilanguage-plugin]()，後來發現怎麼樣都搞不定，又轉向 [polylgot]()，東摸西摸浪費了不少時間後大致成功，但遇上了一個問題：我想要在每篇文章中顯示「這篇文章提供什麼語言」，卻沒有簡單又符合 Jekyll 編輯流程的方法。

古人有云：
> 天助自幹者。

於是我開始動歪腦筋，看看能不能自己實現這個需求......首先我要搞懂 polyglot 是怎麼運作的。

Jekyll 是一個 ruby 專案，polyglot 作為一個 Jekyll 插件也是以 Ruby 編寫，我從來沒碰過 Ruby 所以一切必須從安裝 Ruby Devkit 開始，整個過程是自動化的，非常簡單。

從閱讀 Polyglot 的程式碼跟自己動手實現需求的過程中，我對 Ruby 大致建立起一個第一印象......個人是 Unity C# 起手，Go 是我第二主力語言，Ruby 起初讓我聯想到 Go，似乎也非常輕巧迷你，但再多摸了一陣子，我發現 Rbuy 比 Go 複雜很多。

Go 是一個非常精巧的語言，只有 25 個保留字不是說你多了好幾個單字可以用來命名，也表示你只需要了解 25 個單字的意義就能創造一切。

而 Ruby 似乎有不少 magic word 存在，例如我想要逐行讀取檔案，並且知道現在讀取的行數，要用到 `$.` 這個保留字。單看這個符號，你看得出來這是什麼意思嗎？

我對可讀性（Readibilty）的理解是：要盡可能讓別人閱讀你寫出來的程式時，不需要了解語言具體實現，只依靠變數與方法的命名就能掌握你的思考流程。

個人總是盡可能恪守各種能幫助我避免 code smell 的原則，所以 Ruby 這種需要背下來才能理解意思的設計讓我不太開心。

加上*變數宣告、方法參數跟方法回傳類型都沒有標示型別*，*呼叫無參數方法不需要括號* 等等我碰到的語言規格，讓我感覺 Ruby 在使用上多了許多不必要的認知負擔。

此外還有一個很迷的東西，在 Ruby 中的必要性是什麼......要做一個迴圈，要 `10.times do |i|`，要迭代要 `NNN.foreach do |item|`，要寫檔案可以 `File.open(path, 'w') { |file| file.write('to write')}`......難以理解為什麼要用這麼特別的符號，不過我相信這東西在 Ruby 中是很實用的，~~只是我暫時沒有要探究的意思~~。

雖然主觀不太喜歡 Ruby，但其實我多少可以理解它試圖更貼近人類的設計思想，比如說 Boolean Methods 使用上 `collections.include?`直接在程式碼鐘就可以看出這是一個是非題；每個語言都有想解決的議題、想實現的理想，這一點是無庸置疑的。

接下來在對這個 Blog 敲敲打打的過程中估計還是很難避免使用到 Ruby，等到有了新的心得之後再寫一篇文章吧！